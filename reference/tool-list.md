# ğŸ§° å·¥å…·åˆ—è¡¨ï¼ˆå½“å‰å®ç°ï¼‰

å†…ç½®å·¥å…·ç”± `src/tools/builtin/index.ts` æ³¨å†Œï¼Œå¹¶åœ¨è¿è¡Œæ—¶é™„åŠ å·²è¿æ¥çš„ MCP å·¥å…·ã€‚å·¥å…·ç±»å‹åˆ’åˆ†ä¾èµ– `ToolKind`ï¼ˆReadOnly / Write / Executeï¼‰ï¼Œå½±å“æƒé™æ¨¡å¼çš„åˆ¤å®šã€‚

## æ–‡ä»¶ä¸ç¼–è¾‘

| åç§° | ç±»å‹ | ä¸»è¦å‚æ•° | è¯´æ˜ |
| --- | --- | --- | --- |
| `Read` | ReadOnly | `file_path`ï¼ˆç»å¯¹è·¯å¾„ï¼Œå¯é€‰ `offset/limit/encoding`ï¼‰ | è¯»å–æ–‡æœ¬/å›¾ç‰‡/PDF/ipynbï¼Œé»˜è®¤æœ€å¤š 2000 è¡Œï¼Œè¿”å›å¸¦è¡Œå·å†…å®¹ã€‚ |
| `Write` | Write | `file_path`ã€`content`ã€`encoding`ã€`mode`ã€`mkdirs` | å†™å…¥æˆ–åˆ›å»ºæ–‡ä»¶ï¼Œæ”¯æŒå¤‡ä»½/æƒé™æ£€æŸ¥/ç›®å½•è‡ªåŠ¨åˆ›å»ºã€‚ |
| `Edit` | Write | `file_path`ã€`old_string`ã€`new_string`ã€`pattern`ã€`max_replacements` | æŒ‰å­—ç¬¦ä¸²æˆ–æ­£åˆ™æ›¿æ¢ï¼Œæ”¯æŒå›æ»šã€é¢„è§ˆä¸å¹¶å‘æ–‡ä»¶é”ã€‚ |
| `NotebookEdit` | Write | `file_path`ã€`content` | é’ˆå¯¹ `.ipynb` çš„å†™å…¥ï¼Œä¿æŒ JSON ç»“æ„ã€‚ |

## æœç´¢

| åç§° | ç±»å‹ | å‚æ•° | è¯´æ˜ |
| --- | --- | --- | --- |
| `Glob` | ReadOnly | `pattern`ã€`cwd`ã€`ignore`ã€`limit` | ä½¿ç”¨ fast-glob æŸ¥æ‰¾æ–‡ä»¶ï¼Œå†…ç½®å¿½ç•¥å¸¸è§ç›®å½•ã€‚ |
| `Grep` | ReadOnly | `pattern`ã€`path`ã€`glob`ã€`context` ç­‰ | åŸºäº ripgrepï¼Œæ”¯æŒå¤šæ–‡ä»¶å†…å®¹æœç´¢ã€ä¸Šä¸‹æ–‡è¡Œã€å¤§å°å†™/æ­£åˆ™å¼€å…³ã€‚ |

## Shell ä¸æ‰§è¡Œ

| åç§° | ç±»å‹ | å‚æ•° | è¯´æ˜ |
| --- | --- | --- | --- |
| `Bash` | Execute | `command`ã€`cwd`ã€`env`ã€`background`ã€`timeout` | æ‰§è¡Œå‘½ä»¤ï¼Œå¯åå°è¿è¡Œå¹¶è¿”å› `bash_id`ï¼ˆåå°ä¼šè¯ IDï¼‰ï¼ŒåŒ…å«é£é™©æç¤ºã€‚ |
| `BashOutput` | ReadOnly | `bash_id`ã€`filter`(æ­£åˆ™ï¼Œå¯é€‰) | è¯»å–åå°å‘½ä»¤çš„æœ€æ–°è¾“å‡ºã€‚ |
| `KillShell` | Execute | `shell_id`ã€`signal` | ç»ˆæ­¢åå°å‘½ä»¤ï¼ˆä½¿ç”¨ Bash è¿”å›çš„åå° IDï¼‰ã€‚ |
| `Skill` | Execute | `skill_name`ã€`input` | é¢„ç•™çš„â€œæŠ€èƒ½â€å…¥å£ï¼Œå½“å‰ç”¨äºç³»ç»Ÿæç¤ºä¸­çš„å ä½è¡Œä¸ºã€‚ |
| `SlashCommand` | Execute | `command` | åœ¨ä¸»å¯¹è¯ä¸­æ‰§è¡Œ Slash å‘½ä»¤ï¼ˆä¾›ç³»ç»Ÿè°ƒç”¨ï¼Œç”¨æˆ·é€šå¸¸æ— éœ€ç›´æ¥ä½¿ç”¨ï¼‰ã€‚ |

## ç½‘ç»œ

| åç§° | ç±»å‹ | å‚æ•° | è¯´æ˜ |
| --- | --- | --- | --- |
| `WebFetch` | ReadOnly | `url`ã€`method`ã€`headers`ã€`body`ã€`trim` | è·å–ç½‘é¡µ/æ¥å£å†…å®¹ï¼Œè‡ªåŠ¨è£å‰ªæ–‡æœ¬å¹¶æç¤ºç¼–ç ã€‚ |
| `WebSearch` | ReadOnly | `query`ã€`site`ã€`language`ã€`region` | DuckDuckGo æœç´¢ï¼Œè¿”å›ç»“æœæ‘˜è¦ã€‚ |

## ä»»åŠ¡ä¸è®¡åˆ’

| åç§° | ç±»å‹ | è¯´æ˜ |
| --- | --- | --- |
| `Task` | ReadOnly | å¯åŠ¨å­ Agentï¼ˆä½¿ç”¨ `.blade/agents` / `~/.blade/agents` ä¸­çš„é…ç½®ï¼‰ï¼Œ`subagent_type` å†³å®šå·¥å…·é›†ã€‚ |
| `TodoWrite` | ReadOnly | ç®¡ç†ä¼šè¯å†… TODOï¼ˆæŒä¹…åŒ–åˆ° `<configDir>/todos/<session>-agent-<session>.json`ï¼Œé»˜è®¤ `~/.blade/todos`ï¼‰ï¼Œè¿”å›å®Œæ•´åˆ—è¡¨ã€‚ |
| `EnterPlanMode` / `ExitPlanMode` | ReadOnly | è¿›å…¥/é€€å‡º Plan æ¨¡å¼å¹¶è§¦å‘ç”¨æˆ·ç¡®è®¤ã€‚ |

## MCP å·¥å…·

é€šè¿‡ `blade mcp add ...` æ³¨å†Œçš„æœåŠ¡å™¨ä¼šåœ¨è¿è¡Œæ—¶åŠ è½½ï¼Œå…¶å·¥å…·ä¼šæŒ‰åŸå§‹åç§°åŠ å…¥å·¥å…·åˆ—è¡¨ã€‚è¿æ¥çŠ¶æ€å–å†³äº MCP æ³¨å†Œè¡¨çš„å¥åº·æ£€æŸ¥ã€‚

## æƒé™ä¸æ¨¡å¼æç¤º

- ReadOnly å·¥å…·åœ¨ `default` / `autoEdit` / `plan` æ¨¡å¼ä¸‹è‡ªåŠ¨å…è®¸ï¼ˆPlan æ¨¡å¼æ‹’ç»æ‰€æœ‰éåªè¯»å·¥å…·ï¼‰ã€‚
- Write å·¥å…·ä»…åœ¨ `autoEdit` / `yolo` è‡ªåŠ¨é€šè¿‡ï¼Œå…¶ä½™æ¨¡å¼éœ€è¦ç¡®è®¤ã€‚
- Execute å·¥å…·éœ€ç¡®è®¤ï¼Œ`yolo` æ¨¡å¼ç›´æ¥æ”¾è¡Œã€‚

è¯¦è§ã€Œæƒé™ç³»ç»Ÿã€ç« èŠ‚ã€‚
